# 产品需求文档 (PRD): 创意发散系统 (Ionic-Planck)

## 1. 项目背景

在创意策划和头脑风暴过程中，用户需要一个能够快速发散思维、整理逻辑关系的工具。本项目旨在通过 AI 技术简化词语联想过程，并提供灵活的图形化界面进行整理。

## 2. 目标用户

- 创意策划人员
- 产品经理及设计师
- 文本创作者
- 需要整理复杂思维逻辑的学习者

## 3. 核心功能需求

### 3.1 词语发散生成 (AI Word Expansion)

- **描述**：基于核心词，利用大语言模型 (DeepSeek-V3) 自动生成关联词。
- **功能点**：
  - 支持自定义生成关联词的数量（1-15个）。
  - 采用辐射状布局 (Radial Layout) 自动排列新节点。
  - 具备自动避让算法，防止节点重叠。

### 3.2 节点手动着色 (Manual Node Coloring)

- **描述**：允许用户根据个人偏好或逻辑分类手动为节点填充颜色。
- **功能点**：
  - 右键选中节点后，在顶部工具栏显示颜色选择面板。
  - 提供预设的 7 种柔和色系（白色、黄色、淡红、淡绿、淡蓝、淡紫、淡橙）。
  - 节点颜色状态随画布持久化（支持历史记录保存）。

### 3.3 亲和图标注/智能聚拢 (Affinity Diagramming)

- **描述**：利用 AI 语义分析能力，将画布上杂乱的词语按相似度自动聚类并重新布局。
- **功能点**：
  - **语义分类**：调用模型 analysis 所有节点文本，将其分为 2-5 个逻辑类别。
  - **聚类布局**：将同一类别的节点移动至相近区域，形成明显的视觉簇。
  - **兜底逻辑**：处理无法分类的孤立节点，保持画布整洁。

### 3.4 画布交互 (Canvas Interaction)

- **描述**：提供流畅的大型思维导图浏览体验。
- **功能点**：
  - **缩放 (Zoom)**：支持鼠标滚轮及 UI 按钮控制缩放比例（20% - 300%）。
  - **平移 (Pan)**：支持鼠标拖拽背景移动画布。
  - **历史管理**：完整的历史记录面板，支持撤销/切换至之前的编辑状态。

## 4. 技术栈说明

- **前端框架**：React + TypeScript
- **构建工具**：Vite
- **图形渲染**：SVG (支持渐变、滤镜、动态缩放)
- **AI 引擎**：DeepSeek-V3 (通过 SiliconFlow API 接入)
- **状态持久化**：LocalStorage

## 5. UI/UX 规范

- **设计风格**：毛玻璃效果 (Glassmorphism)，极简现代感。
- **配色主张**：高对比度文字，柔和背景色，鲜明的选中状态（黄色高亮 + 发光滤镜）。
- **交互反馈**：节点生成功、加载中（LoadingEffect）、聚类完成均有 Toast 提示。

## 6. 未来规划

- 支持导出为图片或 PDF。
- 引入多用户协作模式。
- 增加节点间的自由手动连线功能。
