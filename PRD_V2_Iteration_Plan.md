# 产品需求文档 (PRD): 创意发散系统 V2.0 - 结构化沉淀与深度洞察

## 1. 版本概述

V1.0 解决了“从无到有”的创意发散问题。V2.0 的核心目标是**“从散到整”**，通过引入自定义逻辑关联、富文本沉淀以及智能容器，帮助用户将零散的关键词转化为有深度的结构化方案。

## 2. 核心价值主张

- **逻辑深度**：不仅是词语，更是逻辑链路。
- **内容厚度**：从短词扩展到长文与多媒体。
- **产出价值**：打通从“灵感”到“文档”的最后一公里。

## 3. 功能详细说明

### 3.1 自由逻辑连线 (Logic Linking)

- **需求描述**：打破 V1.0 严格的树状/辐射限制，允许用户在任意两个节点间创建手动的“关系线”。
- **交互逻辑**：
  - 节点边缘显示锚点，悬停或点击后可拖拽出连线。
  - 支持在线条上添加“注释文案”，定义关系类型（如：包含、冲突、因果）。
  - 连线具备动态路由算法，自动避开现有节点。

### 3.2 富文本与笔记节点 (Note Nodes)

- **需求描述**：当关键词不足以承载创意时，支持将其转化为笔记卡片。
- **功能点**：
  - **Markdown 支持**：节点双击后展开编辑器，支持标题、列表、粗体等 Markdown 语法。
  - **预览模式**：卡片在画布上以精美的笔记样式呈现，仅显示摘要。
  - **关联生成**：支持根据一段笔记内容，由 AI 提取核心点并生成二级节点。

### 3.3 智能分组容器 (Smart Frames/Sections)

- **需求描述**：在“智能聚拢”的基础上，提供视觉上的“物理边界”。
- **功能点**：
  - **自动框选**：聚类完成后，AI 自动在每个簇周围生成一个带标题的透明背景容器。
  - **组合移动**：拖动容器标题可同时移动内部所有节点。
  - **主题总结**：容器底部支持“AI 概括”功能，一键生成该组内容的综述。

### 3.4 辅助导航与管理 (Utility Tools)

- **需求描述**：应对超大规模（100+ 节点）的思维导图管理。
- **功能点**：
  - **缩略图 (Mini-Map)**：右下角常驻缩略视口，支持快速定位及导航。
  - **框选工具 (Marquee)**：支持鼠标右键或长按启动框选，进行批量变色、移动或删除。
  - **搜索过滤**：顶部增加搜索框，高亮包含关键词的节点，并弱化非相关节点。

### 3.5 多格式导出 (Export Module)

- **需求描述**：满足创意成果的跨平台共享需求。
- **功能点**：
  - **视觉导出**：支持导出为 PNG (高清) 或 SVG 矢量图。
  - **逻辑导出**：支持一键转换为 Markdown 提纲，保持层级关系，方便直接导入 Notion/ Obsidian 等工具。

## 4. UI 升级建议

- **深度感设计**：引入层叠阴影 (Z-index layering)，当节点在容器内时，通过细微的阴影区分层级。
- **微交互增强**：连线时的吸附感 (Magnetic snap)、容器缩放时的弹性动画。
- **沉浸式模式**：支持全屏模式 (H键隐藏所有工具栏)，专注于核心画布。

## 5. 算法与 API 需求

- **连线寻路算法**：A* 寻路或曼哈顿路径优化。
- **长文提取 API**：需要 LLM 支持对 (Long Context) 的理解，以实现从笔记到导图的转换。

## 6. 成功衡量指标 (KPI)

- **用户活跃时长 (Session Duration)**：侧面反映用户是否在应用内进行深度的策划工作。
- **导出转换率**：衡量产出成果对用户的实际效用。
- **节点平均复杂度**：单图中“笔记节点”占比，反映内容沉淀深度。
